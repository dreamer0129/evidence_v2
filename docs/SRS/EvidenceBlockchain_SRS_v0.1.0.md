# åŒºå—é“¾å­˜è¯ç³»ç»Ÿéœ€æ±‚æ–‡æ¡£

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®èƒŒæ™¯

éšç€æ•°å­—åŒ–è½¬å‹åŠ é€Ÿï¼Œç”µå­æ•°æ®ä½œä¸ºæ³•å¾‹è¯æ®çš„éœ€æ±‚æ¿€å¢ï¼ˆã€Šä¸­åäººæ°‘å…±å’Œå›½ç”µå­ç­¾åæ³•ã€‹ç¬¬7æ¡ï¼‰ã€‚ä¼ ç»Ÿä¸­å¿ƒåŒ–å­˜è¯å­˜åœ¨**ä¸‰é‡é£é™©**ï¼š  

- **ç¯¡æ”¹é£é™©**ï¼šå•ç‚¹å­˜å‚¨æ˜“è¢«æ¶æ„ä¿®æ”¹  
- **å¯ä¿¡åº¦ç¼ºé™·**ï¼šç¼ºä¹ç¬¬ä¸‰æ–¹æƒå¨èƒŒä¹¦  
- **è¿½æº¯å›°éš¾**ï¼šæ“ä½œæ—¥å¿—å¯è¢«æ¸…é™¤  
  
åŒºå—é“¾æŠ€æœ¯å‡­å€Ÿ**å»ä¸­å¿ƒåŒ–å…±è¯†**ã€**å¯†ç å­¦é˜²ç¯¡æ”¹**ã€**å…¨é“¾è·¯å¯è¿½æº¯**ä¸‰å¤§ç‰¹æ€§ï¼Œæˆä¸ºè§£å†³ç”µå­è¯æ®å­˜è¯ç—›ç‚¹çš„ç†æƒ³æ–¹æ¡ˆï¼ˆå‚è€ƒæœ€é«˜äººæ°‘æ³•é™¢ã€Šå…³äºäº’è”ç½‘æ³•é™¢å®¡ç†æ¡ˆä»¶è‹¥å¹²é—®é¢˜çš„è§„å®šã€‹ç¬¬11æ¡ï¼‰ã€‚

### 1.2 é¡¹ç›®ç›®æ ‡

å¼€å‘ä¸€ä¸ªåŸºäºåŒºå—é“¾çš„å­˜è¯ç³»ç»Ÿï¼Œæ”¯æŒæ–‡ä»¶å’Œæ–‡ä»¶å“ˆå¸Œçš„ä¸Šä¼ å­˜è¯ï¼Œç”Ÿæˆå…·æœ‰æ³•å¾‹æ•ˆåŠ›çš„å­˜è¯è¯æ˜ï¼Œå¹¶æä¾›ä¾¿æ·çš„è¯æ®éªŒè¯åŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›å®‰å…¨ã€å¯ä¿¡ã€é«˜æ•ˆçš„ç”µå­æ•°æ®å­˜è¯æœåŠ¡ã€‚

### 1.3 æ ¸å¿ƒä»·å€¼

- **å¯ä¿¡å­˜è¯**ï¼šåˆ©ç”¨åŒºå—é“¾ä¸å¯ç¯¡æ”¹ç‰¹æ€§ç¡®ä¿æ•°æ®çœŸå®æ€§
- **é«˜æ•ˆä¾¿æ·**ï¼šç®€åŒ–å­˜è¯æµç¨‹ï¼Œé™ä½å­˜è¯æˆæœ¬
- **æ³•å¾‹æ•ˆåŠ›**ï¼šæä¾›ç¬¦åˆæ³•å¾‹è¦æ±‚çš„å­˜è¯è¯æ˜
- **éšç§ä¿æŠ¤**ï¼šæ”¯æŒæ–‡ä»¶å“ˆå¸Œå­˜è¯ï¼Œä¿æŠ¤åŸå§‹æ•°æ®éšç§

## 2. ç”¨æˆ·è§’è‰²ä¸åœºæ™¯

### 2.1 ç”¨æˆ·è§’è‰²

| è§’è‰²     | æè¿°                       | æ ¸å¿ƒéœ€æ±‚                                           |
| -------- | -------------------------- | -------------------------------------------------- |
| å­˜è¯ä¸»ä½“ | éœ€å­˜è¯ç”µå­æ•°æ®çš„ä¸ªäººæˆ–ä¼ä¸š | ç®€å•æ˜“ç”¨çš„å­˜è¯æµç¨‹ï¼Œå¯é çš„å­˜è¯è¯æ˜ï¼Œä¾¿æ·çš„éªŒè¯æ–¹å¼ |
| ç®¡ç†å‘˜   | ç³»ç»Ÿç»´æŠ¤å’Œç®¡ç†è§’è‰²         | ç³»ç»Ÿç›‘æ§ï¼Œç”¨æˆ·ç®¡ç†ï¼Œæ•°æ®ç»Ÿè®¡                       |
| éªŒè¯æ–¹   | éœ€è¦éªŒè¯å­˜è¯æ•°æ®çš„ç¬¬ä¸‰æ–¹   | å¿«é€ŸéªŒè¯å­˜è¯æ•°æ®çš„çœŸå®æ€§å’Œæœ‰æ•ˆæ€§                   |

### 2.2 å…¸å‹åœºæ™¯

1. **ä¸ªäººæ–‡ä»¶å­˜è¯**ï¼šç”¨æˆ·ä¸Šä¼ é‡è¦åˆåŒã€çŸ¥è¯†äº§æƒæ–‡æ¡£ç­‰è¿›è¡Œå­˜è¯
2. **ä¼ä¸šæ•°æ®å­˜è¯**ï¼šä¼ä¸šä¸Šä¼ è´¢åŠ¡æ•°æ®ã€äº¤æ˜“è®°å½•ç­‰è¿›è¡Œå­˜è¯
3. **ç”µå­è¯æ®éªŒè¯**ï¼šæ³•é™¢ã€ä»²è£æœºæ„ç­‰éªŒè¯å­˜è¯æ•°æ®çš„çœŸå®æ€§

## 3. åŠŸèƒ½éœ€æ±‚

### 3.1 æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### 3.1.1 ç”¨æˆ·ç®¡ç†æ¨¡å—

- ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- ä¸ªäººä¿¡æ¯ç®¡ç†

#### 3.1.2 å­˜è¯ç®¡ç†æ¨¡å—

- æ–‡ä»¶ä¸Šä¼ å­˜è¯
- æ–‡ä»¶å“ˆå¸Œä¸Šä¼ å­˜è¯
- å­˜è¯è®°å½•æŸ¥è¯¢
- å­˜è¯è¯æ˜ç”Ÿæˆ

#### 3.1.3 éªŒè¯æ¨¡å—

- å­˜è¯æ•°æ®éªŒè¯
- å­˜è¯è¯æ˜éªŒè¯
- éªŒè¯ç»“æœå¯¼å‡º

#### 3.1.4 ç³»ç»Ÿç®¡ç†æ¨¡å—

- ç³»ç»Ÿç›‘æ§
- æ—¥å¿—ç®¡ç†
- æ•°æ®ç»Ÿè®¡åˆ†æ

### 3.2 è¯¦ç»†åŠŸèƒ½æè¿°

#### 3.2.1 æ–‡ä»¶ä¸Šä¼ å­˜è¯

- æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ä¸Šä¼ ï¼ˆPDFã€DOCã€JPGã€PNG ç­‰ï¼‰
- æ–‡ä»¶å¤§å°é™åˆ¶ï¼šå•æ¬¡ä¸Šä¼ ä¸è¶…è¿‡ 100MB
- ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
- æ–‡ä»¶å…ƒæ•°æ®è‡ªåŠ¨æå–ï¼ˆåˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´ã€å¤§å°ç­‰ï¼‰
- è‡ªåŠ¨è®¡ç®—æ–‡ä»¶å“ˆå¸Œå€¼
- æ”¯æŒæ‰¹é‡ä¸Šä¼ 

#### 3.2.2 æ–‡ä»¶å“ˆå¸Œä¸Šä¼ å­˜è¯

- æ”¯æŒæ‰‹åŠ¨è¾“å…¥æ–‡ä»¶å“ˆå¸Œå€¼
- æ”¯æŒä¸»æµå“ˆå¸Œç®—æ³•ï¼ˆSHA256ã€MD5 ç­‰ï¼‰
- å“ˆå¸Œå€¼æ ¼å¼éªŒè¯
- ç›¸å…³å…ƒæ•°æ®å½•å…¥ï¼ˆæ–‡ä»¶åã€æè¿°ç­‰ï¼‰

#### 3.2.3 å­˜è¯è¯æ˜ç”Ÿæˆ

- è‡ªåŠ¨ç”Ÿæˆæ ‡å‡†åŒ–å­˜è¯è¯æ˜
- åŒ…å«å­˜è¯æ—¶é—´ã€å­˜è¯ä¸»ä½“ã€æ–‡ä»¶ä¿¡æ¯ã€å“ˆå¸Œå€¼ã€åŒºå—é“¾äº¤æ˜“ ID ç­‰ä¿¡æ¯
- æ”¯æŒ PDF æ ¼å¼å¯¼å‡º
- æ”¯æŒç”µå­ç­¾å

#### 3.2.4 å­˜è¯éªŒè¯

- æ”¯æŒé€šè¿‡å­˜è¯ç¼–å·éªŒè¯
- æ”¯æŒé€šè¿‡æ–‡ä»¶å“ˆå¸ŒéªŒè¯
- æ”¯æŒä¸Šä¼ æ–‡ä»¶è¿›è¡ŒéªŒè¯
- éªŒè¯ç»“æœæ¸…æ™°å±•ç¤ºï¼ˆæ˜¯å¦æœ‰æ•ˆã€å­˜è¯æ—¶é—´ç­‰ï¼‰
- éªŒè¯æŠ¥å‘Šç”Ÿæˆä¸å¯¼å‡º

## 4. éåŠŸèƒ½éœ€æ±‚

### 4.1 æ€§èƒ½è¦æ±‚

- å­˜è¯å¤„ç†æ—¶é—´ï¼šå•ä¸ªæ–‡ä»¶å­˜è¯ä¸è¶…è¿‡ 5 ç§’
- éªŒè¯å“åº”æ—¶é—´ï¼šä¸è¶…è¿‡ 2 ç§’

### 4.2 å®‰å…¨æ€§è¦æ±‚

- ç”¨æˆ·æ•°æ®åŠ å¯†å­˜å‚¨éšç€æ•°å­—åŒ–è½¬å‹åŠ é€Ÿï¼Œç”µå­æ•°æ®ä½œä¸ºæ³•å¾‹è¯æ®çš„éœ€æ±‚æ¿€å¢ï¼ˆã€Šä¸­åäººæ°‘å…±å’Œå›½ç”µå­ç­¾åæ³•ã€‹ç¬¬7æ¡ï¼‰ã€‚ä¼ ç»Ÿä¸­å¿ƒåŒ–å­˜è¯å­˜åœ¨**ä¸‰é‡é£é™©**ï¼š  
- **ç¯¡æ”¹é£é™©**ï¼šå•ç‚¹å­˜å‚¨æ˜“è¢«æ¶æ„ä¿®æ”¹  
- **å¯ä¿¡åº¦ç¼ºé™·**ï¼šç¼ºä¹ç¬¬ä¸‰æ–¹æƒå¨èƒŒä¹¦  
- **è¿½æº¯å›°éš¾**ï¼šæ“ä½œæ—¥å¿—å¯è¢«æ¸…é™¤  
åŒºå—é“¾æŠ€æœ¯å‡­å€Ÿ**å»ä¸­å¿ƒåŒ–å…±è¯†**ã€**å¯†ç å­¦é˜²ç¯¡æ”¹**ã€**å…¨é“¾è·¯å¯è¿½æº¯**ä¸‰å¤§ç‰¹æ€§ï¼Œæˆä¸ºè§£å†³ç”µå­è¯æ®å­˜è¯ç—›ç‚¹çš„ç†æƒ³æ–¹æ¡ˆï¼ˆå‚è€ƒæœ€é«˜äººæ°‘æ³•é™¢ã€Šå…³äºäº’è”ç½‘æ³•é™¢å®¡ç†æ¡ˆä»¶è‹¥å¹²é—®é¢˜çš„è§„å®šã€‹ç¬¬11æ¡ï¼‰ã€‚

- åŒºå—é“¾ç§é’¥å®‰å…¨ç®¡ç†
- é˜² DDoS æ”»å‡»

### 4.3 å…¼å®¹æ€§è¦æ±‚

- æ”¯æŒä¸»æµæµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Safariã€Edgeï¼‰
- æ”¯æŒ Windowsã€MacOSã€Linux æ“ä½œç³»ç»Ÿ
- ç§»åŠ¨ç«¯é€‚é…

## 5. ä¸šåŠ¡æµç¨‹

### 5.1 å­˜è¯æµç¨‹

1. ç”¨æˆ·ç™»å½•ç³»ç»Ÿ
2. é€‰æ‹©å­˜è¯æ–¹å¼ï¼ˆæ–‡ä»¶ä¸Šä¼ æˆ–å“ˆå¸Œä¸Šä¼ ï¼‰
3. ä¸Šä¼ æ–‡ä»¶æˆ–è¾“å…¥å“ˆå¸Œå€¼åŠç›¸å…³ä¿¡æ¯
4. ç³»ç»Ÿè®¡ç®—å“ˆå¸Œå€¼ï¼ˆæ–‡ä»¶ä¸Šä¼ æ–¹å¼ï¼‰å¹¶éªŒè¯
5. ç³»ç»Ÿå°†å“ˆå¸Œå€¼åŠå…ƒæ•°æ®å†™å…¥åŒºå—é“¾
6. ç”Ÿæˆå­˜è¯è¯æ˜
7. ç”¨æˆ·æŸ¥çœ‹æˆ–ä¸‹è½½å­˜è¯è¯æ˜

```mermaid
sequenceDiagram
    participant User as å­˜è¯ä¸»ä½“
    participant System as å­˜è¯ç³»ç»Ÿ
    participant Blockchain as åŒºå—é“¾
    User->>System: 1. ç”¨æˆ·ç™»å½•
    User->>System: 2. æäº¤æ–‡ä»¶/å“ˆå¸Œ
    System->>System: 3. è®¡ç®—æ–‡ä»¶å“ˆå¸Œ(SHA-256/SM3)
    System->>Blockchain: 4. å†™å…¥åŒºå—é“¾(å«æ—¶é—´æˆ³+å“ˆå¸Œ)
    Blockchain-->>System: 5. è¿”å›äº¤æ˜“ID
    System->>System: 6. ç”Ÿæˆå­˜è¯è¯æ˜(PDF)
    System->>User: 7. æä¾›ä¸‹è½½
```

### 5.2 éªŒè¯æµç¨‹

1. ç”¨æˆ·/éªŒè¯æ–¹è¿›å…¥éªŒè¯é¡µé¢
2. é€‰æ‹©éªŒè¯æ–¹å¼ï¼ˆå­˜è¯ç¼–å·ã€å“ˆå¸Œå€¼æˆ–æ–‡ä»¶ä¸Šä¼ ï¼‰
3. è¾“å…¥éªŒè¯ä¿¡æ¯æˆ–ä¸Šä¼ æ–‡ä»¶
4. ç³»ç»ŸæŸ¥è¯¢åŒºå—é“¾æ•°æ®
5. è¿”å›éªŒè¯ç»“æœ
6. ç”ŸæˆéªŒè¯æŠ¥å‘Šï¼ˆå¯é€‰ï¼‰

```mermaid
graph LR
    A[éªŒè¯è¯·æ±‚] --> B{éªŒè¯æ–¹å¼}
    B -->|å­˜è¯ç¼–å·| C[æŸ¥è¯¢åŒºå—é“¾äº¤æ˜“]
    B -->|ä¸Šä¼ æ–‡ä»¶| D[å®æ—¶è®¡ç®—å“ˆå¸Œ]
    B -->|å“ˆå¸Œå€¼| E[æŸ¥è¯¢å­˜è¯ç³»ç»Ÿ]
    C --> F[æ¯”å¯¹å“ˆå¸Œå€¼]
    D --> F
    E --> F
    F --> G{å“ˆå¸Œä¸€è‡´ï¼Ÿ}
    G -->|æ˜¯| H[ç”Ÿæˆå¸æ³•éªŒè¯æŠ¥å‘Š]
    G -->|å¦| I[æ ‡è®°â€œæ•°æ®ä¸ä¸€è‡´â€]
    H --> J[ç”ŸæˆéªŒè¯æŠ¥å‘Š]
```

## 6. ç³»ç»Ÿæ¶æ„

### 6.1 æ€»ä½“æ¶æ„

- å‰ç«¯å±‚ï¼šWeb ç•Œé¢
- åç«¯å±‚ï¼šAPI æœåŠ¡ã€ä¸šåŠ¡é€»è¾‘å¤„ç†
- åŒºå—é“¾å±‚ï¼šæ™ºèƒ½åˆçº¦ã€èŠ‚ç‚¹äº¤äº’
- å­˜å‚¨å±‚ï¼šæ–‡ä»¶å­˜å‚¨ã€æ•°æ®åº“

```mermaid
flowchart TD
    %% Style definitions
    classDef frontend fill:#4CAF50,stroke:#388E3C,color:white
    classDef backend fill:#2196F3,stroke:#1976D2,color:white  
    classDef blockchain fill:#9C27B0,stroke:#7B1FA2,color:white
    classDef storage fill:#FF9800,stroke:#F57C00,color:white

    %% Layers
    Frontend["ğŸŒ å‰ç«¯å±‚<br/>Webç•Œé¢ / ç§»åŠ¨ç«¯"]:::frontend
    Backend["ğŸ”§ åç«¯å±‚<br/>APIæœåŠ¡ / ä¸šåŠ¡é€»è¾‘"]:::backend
    Blockchain["ğŸ”— åŒºå—é“¾å±‚<br/>æ™ºèƒ½åˆçº¦ / èŠ‚ç‚¹äº¤äº’"]:::blockchain
    Storage["ğŸ’¾ å­˜å‚¨å±‚<br/>æ•°æ®åº“ / æ–‡ä»¶å­˜å‚¨"]:::storage

    %% Data flow
    Frontend -->|APIè¯·æ±‚| Backend
    Backend -->|ä¸šåŠ¡å¤„ç†| Storage
    Backend -->|å“ˆå¸Œä¸Šé“¾| Blockchain
    Blockchain -->|é“¾ä¸ŠæŸ¥è¯¢| Backend
    Storage -->|æ•°æ®æ£€ç´¢| Backend
    Backend -->|APIå“åº”| Frontend

    %% Agile iteration (optional)
    CI_CD["ğŸ”„ CI/CD"]:::frontend
    CI_CD -.->|éƒ¨ç½²| Backend
    CI_CD -.->|éƒ¨ç½²| Blockchain
```

### 6.2 æŠ€æœ¯æ ˆ

- å‰ç«¯ï¼šNext.js
- åç«¯ï¼šJava Spring Boot
- åŒºå—é“¾ï¼šä»¥å¤ªåŠ/è”ç›Ÿé“¾
- æ•°æ®åº“ï¼šMySQLã€Sqlite
- æ–‡ä»¶å­˜å‚¨ï¼šæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨

## 7. æ•°æ®ç»“æ„å®šä¹‰

### 7.1 å­˜è¯æ•°æ®ç»“æ„

```json
{
  "evidenceId": "EVID:20231020:CN-001",
  "userId": "ENT:91370200MA3TGYXXXY",  
  "fileMetadata": {
    "fileName": "åŠ³åŠ¨åˆåŒ.pdf",
    "mimeType": "application/pdf",
    "size": 153284,
    "creationTime": "2023-10-15T09:30:00+08:00"
  },
  "hash":{
      "algorithm": "SHA256",
      "value": "a1b2c3..."
  },
  "blockchainInfo": {
    "chainId": "justice-chain-prod",
    "blockHeight": 1258436,
    "txId": "0x..."
  },
  "legalStatus": "effective"  // å¯é€‰å€¼: effective/expired/revoked
}
```

### 7.2 å­˜è¯è¯æ˜æ•°æ®ç»“æ„

```json
{
  "certificateId": "string", // è¯æ˜ç¼–å·
  "evidenceId": "string", // å…³è”å­˜è¯ç¼–å·
  "userId": "string", // ç”¨æˆ·ID
  "fileMetadata": {
    "fileName": "åŠ³åŠ¨åˆåŒ.pdf",
    "mimeType": "application/pdf",
    "size": 153284,
    "creationTime": "2023-10-15T09:30:00+08:00"
  },
  "blockchainInfo": {
    "chainName": "string", // åŒºå—é“¾åç§°
    "txId": "string", // äº¤æ˜“ID
    "blockHeight": "number" // åŒºå—é«˜åº¦
  },
  "signature": "string", // ç”µå­ç­¾å
  "issuedDate": "number" // è¯æ˜ç”Ÿæˆæ—¶é—´
}
```

## 8. éªŒæ”¶æ ‡å‡†

### 8.1 åŠŸèƒ½éªŒæ”¶

- æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æŒ‰ç…§éœ€æ±‚æè¿°æ­£å¸¸å·¥ä½œ
- å­˜è¯æ•°æ®æˆåŠŸå†™å…¥åŒºå—é“¾
- å­˜è¯è¯æ˜æ­£ç¡®ç”Ÿæˆå¹¶å¯éªŒè¯
- ç³»ç»Ÿå„æ¨¡å—ä¹‹é—´äº¤äº’æ­£å¸¸

### 8.2 æ€§èƒ½éªŒæ”¶

- å­˜è¯å¤„ç†æ—¶é—´ â‰¤5 ç§’
- éªŒè¯å“åº”æ—¶é—´ â‰¤2 ç§’
- ç³»ç»Ÿå¹¶å‘å¤„ç†èƒ½åŠ› â‰¥1000 ç”¨æˆ·

### 8.3 å®‰å…¨æ€§éªŒæ”¶

- é€šè¿‡ç¬¬ä¸‰æ–¹å®‰å…¨æµ‹è¯•
- æ•°æ®åŠ å¯†å­˜å‚¨å’Œä¼ è¾“
- æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²

## 9. é¡¹ç›®è®¡åˆ’

### 9.1 é‡Œç¨‹ç¢‘

- éœ€æ±‚åˆ†æä¸è®¾è®¡ï¼š2 å‘¨
- æ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼š4 å‘¨
- æµ‹è¯•ä¸ä¼˜åŒ–ï¼š2 å‘¨
- éƒ¨ç½²ä¸ä¸Šçº¿ï¼š1 å‘¨

### 9.2 äº¤ä»˜ç‰©

- éœ€æ±‚æ–‡æ¡£
- è®¾è®¡æ–‡æ¡£
- æºä»£ç 
- æµ‹è¯•æŠ¥å‘Š
- éƒ¨ç½²æ–‡æ¡£
- ç”¨æˆ·æ‰‹å†Œ
